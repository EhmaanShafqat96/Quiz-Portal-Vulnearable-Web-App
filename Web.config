<?xml version="1.0"?>
<configuration>
	<connectionStrings>
		<add name="QuizDB"
			 connectionString="Data Source=Eman\SQLEXPRESS;Initial Catalog=OnlineTest;Integrated Security=True;"
			 providerName="System.Data.SqlClient" />
	</connectionStrings>

	<system.web>
		<!-- keep debug=true so ASP.NET shows more information and disables some optimizations -->
		<compilation debug="true" targetFramework="4.8.1" />

		<!--
      1) Disable request validation: allows HTML/script in form inputs (stored/reflected XSS).
         Note: requestValidationMode="2.0" and validateRequest="false" relax ASP.NET 4+ request checks.
    -->
		<httpRuntime requestValidationMode="2.0" />

		<!-- VULNERABLE: allow raw HTML in posted data -->
		<pages validateRequest="false" enableViewState="true" enableViewStateMac="false" />

		<!--
      2) Show full ASP.NET errors (info disclosure). In production this should be "RemoteOnly" or "On".
    -->
		<customErrors mode="Off" />

		<!--
      3) Enable Trace (server tracing). localOnly="false" exposes traces to any client (dangerous).
    -->
		<trace enabled="true" localOnly="false" pageOutput="false" requestLimit="1000" />

		<!--
      4) Http cookie settings: make cookies accessible to JavaScript (HttpOnly=false) and not require SSL.
         This allows cookie theft via XSS or network sniffing (in lab only).
    -->
		<httpCookies httpOnlyCookies="false" requireSSL="false" />

		<!--
      5) Session settings: increase timeout and do not regenerate session id on login (makes session fixation easier).
         (Note: cookieless="UseUri" would expose session in URL — *optional* and more obvious to test).
    -->
		<sessionState timeout="240" cookieless="UseCookies" regenerateExpiredSessionId="false" />

		<!--
      6) Trust level: full trust allows more dangerous operations (only for lab).
    -->
		<trust level="Full" />

		<!--
      7) Optionally set a predictable / static machineKey to make viewstate & forms auth tokens forgeable in the lab.
         WARNING: Using a known (or weak) machineKey is insecure — acceptable only in a controlled lab.
         Replace the values below with any fixed hex strings of the correct length.
    -->
		<machineKey validationKey="0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF0123456789ABCDEF"
					decryptionKey="ABCDEF0123456789ABCDEF0123456789"
					validation="SHA1" decryption="AES" />

		<!--
      8) (Optional) Forms auth configured insecurely — no RequireSSL and cookie protection left weak.
      If your site doesn't use Forms Auth, this section has no effect; it's just for lab demonstration.
    -->
		<authentication mode="Forms">
			<forms loginUrl="Login.aspx" timeout="240" requireSSL="false" protection="All" />
		</authentication>
		

	</system.web>
	<appSettings>
		<add key="AdminUser" value="admin" />
		<add key="AdminPassword" value=" 5678" />
	</appSettings>
	<!--
    9) IIS-level settings: enable directory browsing so file upload / uploaded files are visible.
       This is an IIS/web.config toggle — only enable for lab if you want to test directory listing / find uploaded files.
  -->
	<system.webServer>
		<directoryBrowse enabled="true" />
		<!-- Let the server pass detailed error responses through (so customErrors = Off is effective) -->
		<httpErrors existingResponse="PassThrough" />
	</system.webServer>
</configuration>
